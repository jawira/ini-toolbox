name: QA

on: pull_request

jobs:
  qa:
    name: Installing
    runs-on: ubuntu-18.04

    steps:

      - name: Install Phing
        env:
          PHING_URL: https://github.com/phingofficial/phing/releases/download/3.0.0-alpha3/phing-3.0.0-alpha3.phar
        run: sudo curl $PHING_URL --output /usr/local/bin/phing --silent

      - name: Install Phive
        env:
          PHIVE_URL: https://github.com/phar-io/phive/releases/download/0.13.2/phive-0.13.2.phar
        run: sudo curl $PHIVE_URL --output /usr/local/bin/phive --silent

      - name: Setup project
        run: phing setup

      - name: Running tests
        run: phing qa
